2022-12-08 21:57:49.066 INFO  [][] [restartedMain] c.heeexy.example.MyApplication:55 - Starting MyApplication using Java 1.8.0_111 on 192.168.9.104 with PID 22317 (/Users/info_kerwin/Documents/Intellij_workspace/xiangqin/back/target/classes started by info_kerwin in /Users/info_kerwin/Documents/Intellij_workspace/xiangqin)
2022-12-08 21:57:49.075 DEBUG [][] [restartedMain] c.heeexy.example.MyApplication:56 - Running with Spring Boot v2.7.6, Spring v5.3.24
2022-12-08 21:57:49.078 INFO  [][] [restartedMain] c.heeexy.example.MyApplication:637 - The following 1 profile is active: "local"
2022-12-08 21:57:49.246 WARN  [][] [restartedMain] o.s.b.c.c.ConfigDataEnvironment:258 - Property 'spring.profiles' imported from location 'class path resource [application-local.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application-local.yml] - 2:13]
2022-12-08 21:57:55.392 DEBUG [][] [restartedMain] c.h.e.c.filter.RequestFilter:242 - Filter 'requestFilter' configured for use
2022-12-08 21:57:56.263 INFO  [][] [restartedMain] c.heeexy.example.MyApplication:61 - Started MyApplication in 10.319 seconds (JVM running for 16.043)
2022-12-08 22:28:27.708 DEBUG [5ccfdda40d17][] [http-nio-5050-exec-1] c.h.e.c.filter.WebLogAspect:47 - 请求路径 /login/auth ,进入方法 com.heeexy.example.controller.LoginController:authLogin
2022-12-08 22:28:27.823 INFO  [5ccfdda40d17][] [http-nio-5050-exec-1] c.z.hikari.HikariDataSource:110 - HikariPool-1 - Starting...
2022-12-08 22:28:28.067 INFO  [5ccfdda40d17][] [http-nio-5050-exec-1] c.z.hikari.HikariDataSource:123 - HikariPool-1 - Start completed.
2022-12-08 22:28:28.080 DEBUG [5ccfdda40d17][] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.checkUser:137 - ==>  Preparing: SELECT u.id userId FROM sys_user u WHERE u.username = ? AND u.password = ? AND u.delete_status = '1'
2022-12-08 22:28:28.111 DEBUG [5ccfdda40d17][] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.checkUser:137 - ==> Parameters: admin(String), 123456(String)
2022-12-08 22:28:28.158 DEBUG [5ccfdda40d17][] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.checkUser:137 - <==      Total: 1
2022-12-08 22:28:28.165 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.getUserInfo:137 - ==>  Preparing: SELECT u.id userId, u.username, u.nickname, ur.role_id roleId, p.menu_code menuCode, p.permission_code permissionCode FROM sys_user u LEFT JOIN sys_user_role ur on u.id = ur.user_id LEFT JOIN sys_role r ON r.id = ur.role_id LEFT JOIN sys_role_permission rp ON r.id = rp.role_id LEFT JOIN sys_permission p ON rp.permission_id = p.id AND rp.delete_status = '1' WHERE u.username = ? AND u.delete_status = '1'
2022-12-08 22:28:28.167 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.getUserInfo:137 - ==> Parameters: admin(String)
2022-12-08 22:28:28.179 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.getUserInfo:137 - <==      Total: 1
2022-12-08 22:28:28.181 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.getAllMenu:137 - ==>  Preparing: select distinct(menu_code) from sys_permission;
2022-12-08 22:28:28.181 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.getAllMenu:137 - ==> Parameters: 
2022-12-08 22:28:28.187 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.dao.LoginDao.getAllMenu:137 - <==      Total: 3
2022-12-08 22:28:28.189 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.d.L.getAllPermissionCode:137 - ==>  Preparing: select distinct(permission_code) from sys_permission;
2022-12-08 22:28:28.190 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.d.L.getAllPermissionCode:137 - ==> Parameters: 
2022-12-08 22:28:28.197 DEBUG [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.d.L.getAllPermissionCode:137 - <==      Total: 10
2022-12-08 22:28:28.198 INFO  [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.service.TokenService:61 - 设置用户信息缓存:token=b3b766dfbbc946039547 , username=admin, info=SessionUserInfo(userId=10003, username=admin, nickname=超级用户, roleIds=[1], menuList=[role, user, article], permissionList=[article:list, user:list, user:add, role:update, article:add, role:list, article:update, user:update, role:delete, role:add])
2022-12-08 22:28:28.205 INFO  [5ccfdda40d17][admin] [http-nio-5050-exec-1] c.h.e.c.filter.WebLogAspect:69 - {"uri":"/login/auth","took":418,"userId":"","req":{"method":"POST","requestBody":{"password":"123456","username":"admin"},"requestURL":"http://localhost:9520/login/auth","remoteAddr":"0:0:0:0:0:0:0:1"},"res":{"msg":"","code":"200","info":{"token":"b3b766dfbbc946039547"}}}
2022-12-08 22:28:28.291 DEBUG [c8f40281a300][] [http-nio-5050-exec-2] c.h.e.service.TokenService:50 - 根据token从缓存中查询用户信息,b3b766dfbbc946039547
2022-12-08 22:28:28.297 DEBUG [c8f40281a300][admin] [http-nio-5050-exec-2] c.h.e.c.filter.WebLogAspect:47 - 请求路径 /login/getInfo ,进入方法 com.heeexy.example.controller.LoginController:getInfo
2022-12-08 22:28:28.298 DEBUG [c8f40281a300][admin] [http-nio-5050-exec-2] c.h.e.service.TokenService:50 - 根据token从缓存中查询用户信息,b3b766dfbbc946039547
2022-12-08 22:28:28.299 INFO  [c8f40281a300][admin] [http-nio-5050-exec-2] c.h.e.service.LoginService:49 - SessionUserInfo(userId=10003, username=admin, nickname=超级用户, roleIds=[1], menuList=[role, user, article], permissionList=[article:list, user:list, user:add, role:update, article:add, role:list, article:update, user:update, role:delete, role:add])
2022-12-08 22:28:28.319 INFO  [c8f40281a300][admin] [http-nio-5050-exec-2] c.h.e.c.filter.WebLogAspect:69 - {"uri":"/login/getInfo","took":1,"userId":"","req":{"method":"POST","requestURL":"http://localhost:9520/login/getInfo","remoteAddr":"0:0:0:0:0:0:0:1"},"res":{"msg":"","code":"200","info":{"menuList":["role","user","article"],"roleIds":[1],"nickname":"超级用户","permissionList":["article:list","user:list","user:add","role:update","article:add","role:list","article:update","user:update","role:delete","role:add"],"userId":10003,"username":"admin"}}}
2022-12-08 22:28:31.198 DEBUG [867d29a38ef1][] [http-nio-5050-exec-3] c.h.e.service.TokenService:50 - 根据token从缓存中查询用户信息,b3b766dfbbc946039547
2022-12-08 22:28:31.206 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.c.filter.WebLogAspect:47 - 请求路径 /article/listArticle ,进入方法 com.heeexy.example.controller.ArticleController:listArticle
2022-12-08 22:28:31.217 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.c.f.PermissionAspect:35 - 开始校验[操作权限]
2022-12-08 22:28:31.217 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.service.TokenService:50 - 根据token从缓存中查询用户信息,b3b766dfbbc946039547
2022-12-08 22:28:31.218 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.c.f.PermissionAspect:42 - 校验权限code: [article:list]
2022-12-08 22:28:31.219 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.c.f.PermissionAspect:43 - 用户已有权限: [article:list, user:list, user:add, role:update, article:add, role:list, article:update, user:update, role:delete, role:add]
2022-12-08 22:28:31.236 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.d.A.countArticle:137 - ==>  Preparing: SELECT count(0) FROM article w WHERE w.delete_status = '1'
2022-12-08 22:28:31.237 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.d.A.countArticle:137 - ==> Parameters: 
2022-12-08 22:28:31.240 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.d.A.countArticle:137 - <==      Total: 1
2022-12-08 22:28:31.241 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.d.ArticleDao.listArticle:137 - ==>  Preparing: SELECT w.id, w.content, date_format(w.create_time, '%Y.%m.%d %T') createTime, date_format(w.update_time, '%Y.%m.%d %T') updateTime FROM article w WHERE w.delete_status = '1' ORDER BY w.id DESC LIMIT ?, ?
2022-12-08 22:28:31.242 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.d.ArticleDao.listArticle:137 - ==> Parameters: 0(Integer), 50(Integer)
2022-12-08 22:28:31.252 DEBUG [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.d.ArticleDao.listArticle:137 - <==      Total: 5
2022-12-08 22:28:31.255 INFO  [867d29a38ef1][admin] [http-nio-5050-exec-3] c.h.e.c.filter.WebLogAspect:69 - {"uri":"/article/listArticle","took":45,"userId":"","req":{"method":"GET","requestURL":"http://localhost:9520/article/listArticle","queryString":"pageNum=1&pageRow=50&name=","remoteAddr":"0:0:0:0:0:0:0:1"},"res":{"msg":"","code":"200","info":{"totalPage":1,"list":[{"createTime":"2017.11.18 13:37:07","updateTime":"2021.05.08 16:10:55","id":19,"content":"文章test2🤣"},{"createTime":"2017.10.26 15:23:42","updateTime":"2017.10.26 15:23:42","id":11,"content":"李白"},{"createTime":"2017.10.26 14:57:45","updateTime":"2017.11.08 13:28:52","id":10,"content":"亚历山大"},{"createTime":"2017.10.26 10:49:28","updateTime":"2017.11.18 09:54:15","id":6,"content":"亚里士多德"},{"createTime":"2017.10.25 09:08:45","updateTime":"2017.10.30 17:59:41","id":5,"content":"莎士比亚"}],"totalCount":5}}}
